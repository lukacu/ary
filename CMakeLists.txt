CMAKE_MINIMUM_REQUIRED(VERSION 3.1 FATAL_ERROR)
PROJECT(ARy)
SET(CMAKE_CXX_STANDARD 11)

set(CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR})

SET(OpenCV_STATIC ON)

FIND_PACKAGE(OpenCV REQUIRED core imgproc video calib3d)
INCLUDE_DIRECTORIES(${OpenCV_INCLUDE_DIR} include)
LINK_LIBRARIES(${OpenCV_LIBS})

SET(SOURCES src/camera.cpp src/localizer.cpp src/keypoints.cpp src/binary.cpp src/tracker.cpp src/utilities.cpp src/complex.cpp)

ADD_LIBRARY(ary SHARED ${SOURCES})

ADD_LIBRARY(ary_static STATIC ${SOURCES})
SET_PROPERTY(TARGET ary_static PROPERTY POSITION_INDEPENDENT_CODE ON)

ADD_SUBDIRECTORY(demos)
ADD_SUBDIRECTORY(tools)
ADD_SUBDIRECTORY(api/godot)
